{% extends "back/layout.html.twig" %}

{% block title form.titre ? "Modification de page" : "Nouvelle page" %}

{% block stylesheets %}{% endblock %}

{% block body %}
	<div
		class="d-flex flex-column flex-column-fluid">

		<!--begin::Toolbar-->
		<div
			id="kt_app_toolbar" class="app-toolbar  py-3 py-lg-6 ">

			<!--begin::Toolbar container-->
			<div
				id="kt_app_toolbar_container" class="app-container  container-xxl d-flex flex-stack ">

				<!--begin::Page title-->
				<div
					class="page-title d-flex flex-column justify-content-center flex-wrap me-3 ">
					<!--begin::Title-->
					<h1 class="page-heading d-flex text-gray-900 fw-bold fs-3 flex-column justify-content-center my-0">
						{{form.titre ? "Modification de page" : "Nouvelle page"}}
					</h1>
					<!--end::Title-->


					<!--begin::Breadcrumb-->
					<ul
						class="breadcrumb breadcrumb-separatorless fw-semibold fs-7 my-0 pt-1">
						<!--begin::Item-->
						<li class="breadcrumb-item text-muted">
							<a href="{{path('dashboard')}}" class="text-muted text-hover-primary">
								Tableau de bord
							</a>
						</li>
						<!--end::Item-->
						<!--begin::Item-->
						<li class="breadcrumb-item">
							<span class="bullet bg-gray-500 w-5px h-2px"></span>
						</li>
						<!--end::Item-->

						<!--begin::Item-->
						<li class="breadcrumb-item text-muted">
							Paramètres
						</li>
						<!--end::Item-->
						<!--begin::Item-->
						<li class="breadcrumb-item">
							<span class="bullet bg-gray-500 w-5px h-2px"></span>
						</li>
						<!--end::Item-->

						<!--begin::Item-->
						<li class="breadcrumb-item text-muted">
							Pages
						</li>
						<!--end::Item-->

					</ul>
					<!--end::Breadcrumb-->
				</div>
				<!--end::Page title-->
				<!--begin::Actions-->
				<div class="d-flex align-items-center gap-2 gap-lg-3"></div>
				<!--end::Actions-->
			</div>
			<!--end::Toolbar container-->
		</div>
		<!--end::Toolbar-->

		<!--begin::Content-->
		<div
			id="kt_app_content" class="app-content  flex-column-fluid ">


			<!--begin::Content container-->
			<div id="kt_app_content_container" class="app-container  container-xxl ">
				{{form_start(form, {'attr': {'id': 'kt_ecommerce_add_category_form', 'class': 'form d-flex flex-column flex-lg-row'}})}}
					<!--begin::Aside column-->
					<div
						class="d-flex flex-column gap-7 gap-lg-10 w-100 w-lg-250px mb-7 me-lg-10">
						<!--begin::Status-->
						<div
							class="card card-flush py-4">
							<!--begin::Card header-->
							<div
								class="card-header">
								<!--begin::Card title-->
								<div class="card-title">
									<h2>Statut</h2>
								</div>
								<!--end::Card title-->

								<!--begin::Card toolbar-->
								<div class="card-toolbar">
									<div class="rounded-circle bg-success w-15px h-15px" id="kt_ecommerce_add_category_status"></div>
								</div>
								<!--begin::Card toolbar-->
							</div>
							<!--end::Card header-->

							<!--begin::Card body-->
							<div
								class="card-body pt-0">
								<!--begin::Select2-->
                                {{form_widget(form.statut, {'attr': {'id': 'kt_ecommerce_add_category_status_select', 'class': 'form-select mb-2', 'data-control': 'select2', 'data-hide-search': 'true', 'data-placeholder': 'Sélectionner un statut'}})}}
								<!--end::Select2-->

								<!--begin::Description-->
								<div class="text-muted fs-7">Définir le statut de la page.</div>
								<!--end::Description-->
							</div>
							<!--end::Card body-->
						</div>
						<!--end::Status-->
						<!--begin::Template settings-->
						<div
							class="card card-flush py-4">
							<!--begin::Card header-->
							<div
								class="card-header">
								<!--begin::Card title-->
								<div class="card-title">
									<h2>Emplacement</h2>
								</div>
								<!--end::Card title-->
							</div>
							<!--end::Card header-->

							<!--begin::Card body-->
							<div
								class="card-body pt-0">
								<!--begin::Select store template-->
								<label for="kt_ecommerce_add_category_store_template" class="form-label">Select a store template</label>
								<!--end::Select store template-->

								<!--begin::Select2-->
                                {{form_widget(form.emplacement, {'attr': {'id': 'kt_ecommerce_add_category_store_template', 'class': 'form-select mb-2', 'data-control': 'select2', 'data-hide-search': 'true', 'data-placeholder': 'Sélectionner un emplacement'}})}}
								<!--end::Select2-->

								<!--begin::Description-->
								<div class="text-muted fs-7">Attribuez un emplacement à partir de l'affichage sur la page d'acceuil pour définir la manière dont les pages seront affichées.</div>
								<!--end::Description-->
							</div>
							<!--end::Card body-->
						</div>
						<!--end::Template settings-->
					</div>
					<!--end::Aside column-->

					<!--begin::Main column-->
					<div
						class="d-flex flex-column flex-row-fluid gap-7 gap-lg-10">
						<!--begin::General options-->
						<div
							class="card card-flush py-4">
							<!--begin::Card header-->
							<div class="card-header">
								<div class="card-title">
									<h2>Paramètre général</h2>
								</div>
							</div>
							<!--end::Card header-->

							<!--begin::Card body-->
							<div
								class="card-body pt-0">
								<!--begin::Input group-->
								<div
									class="mb-10 fv-row">
									<!--begin::Label-->
									<label class="required form-label">Nom de la page</label>
									<!--end::Label-->

									<!--begin::Input-->
                                    {{form_widget(form.titre, {'attr': {'class': 'form-control mb-2', 'placeholder': 'Entrer un nom'}})}}
									<!--end::Input-->

									<!--begin::Description--><div class="text-muted fs-7"> A category name is required and recommended to be unique.</div>
									<!--end::Description-->
								</div>
								<!--end::Input group-->

								<!--begin::Input group-->
								<div>
									<!--begin::Label-->
									<label class="form-label">Description</label>
									<!--end::Label-->

									<!--begin::Editor-->
									{# <div id="kt_ecommerce_add_category_description" name="kt_ecommerce_add_category_description" class="min-h-200px mb-2"></div> #}
                                    {{form_widget(form.contenu, {'attr': {'id': 'kt_ecommerce_add_category_description', 'class': 'min-h-200px mb-2', 'placeholder': 'Entrer le contenu...'}})}}
									<!--end::Editor-->

									<!--begin::Description-->
									<div class="text-muted fs-7">Set a description to the category for better visibility.</div>
									<!--end::Description-->
								</div>
								<!--end::Input group-->
							</div>
							<!--end::Card header-->
						</div>
						<!--end::General options-->
						<!--begin::Meta options-->
						<div
							class="card card-flush py-4">
							<!--begin::Card header-->
							<div class="card-header">
								<div class="card-title">
									<h2>Meta Options</h2>
								</div>
							</div>
							<!--end::Card header-->

							<!--begin::Card body-->
							<div
								class="card-body pt-0">
								<!--begin::Input group-->
								<div
									class="mb-10">
									<!--begin::Label-->
									<label class="form-label">Meta Tag Title</label>
									<!--end::Label-->

									<!--begin::Input-->
									<input type="text" class="form-control mb-2" name="meta_title" placeholder="Meta tag name"/>
									<!--end::Input-->

									<!--begin::Description--><div class="text-muted fs-7"> Set a meta tag title. Recommended to be simple and precise keywords.</div>
									<!--end::Description-->
								</div>
								<!--end::Input group-->

								<!--begin::Input group-->
								<div
									class="mb-10">
									<!--begin::Label-->
									<label class="form-label">Meta Tag Description</label>
									<!--end::Label-->

									<!--begin::Editor-->
									<div id="kt_ecommerce_add_category_meta_description" name="kt_ecommerce_add_category_meta_description" class="min-h-100px mb-2"></div>
									<!--end::Editor-->

									<!--begin::Description-->
									<div class="text-muted fs-7">Set a meta tag description to the category for increased SEO ranking.</div>
									<!--end::Description-->
								</div>
								<!--end::Input group-->

								<!--begin::Input group-->
								<div>
									<!--begin::Label-->
									<label class="form-label">Meta Tag Keywords</label>
									<!--end::Label-->

									<!--begin::Editor-->
									<input id="kt_ecommerce_add_category_meta_keywords" name="kt_ecommerce_add_category_meta_keywords" class="form-control mb-2"/>
									<!--end::Editor-->

									<!--begin::Description--><div class="text-muted fs-7"> Set a list of keywords that the category is related to. Separate the keywords by adding a comma
										<code>,</code>
										between each keyword.</div>
									<!--end::Description-->
								</div>
								<!--end::Input group-->
							</div>
							<!--end::Card header-->
						</div>
						<!--end::Meta options-->

						<div
							class="d-flex justify-content-end">
							<!--begin::Button-->
							<a href="" id="kt_ecommerce_add_product_cancel" class="btn btn-light me-5">
								Annuler
							</a>
							<!--end::Button-->

							<!--begin::Button-->
							<button type="submit" id="kt_ecommerce_add_category_submit" class="btn btn-primary">
								<span class="indicator-label">
									Enregistrer
								</span>
								<span class="indicator-progress">
									Veuillez patienter...
									<span class="spinner-border spinner-border-sm align-middle ms-2"></span>
								</span>
							</button>
							<!--end::Button-->
						</div>
					</div>
					<!--end::Main column-->
				{{form_end(form)}}
			</div>
			<!--end::Content container-->
		</div>
		<!--end::Content-->
	</div>
{% endblock %}

{% block javascripts %}
	<script src="{{asset('assets/js/custom/apps/pages-builder/pages/add-page.js')}}"></script>

	<script type="text/javascript">
		{% for type, messages in app.flashes %}
            {% for message in messages %}
                Swal.fire({
                    html: `{{message|raw}}`,
                    icon: "{{ type }}",
                    buttonsStyling: false,
                    confirmButtonText: "Ok, compris !",
                    customClass: {
                        confirmButton: "btn btn-primary"
                    }
                });
            {% endfor %}
        {% endfor %}
	</script>
{% endblock %}
