
        <div class="space-y-4 mt-16 md:mt-10">
            <div class="rounded grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 xl:gap-8">
                {% for agent in pagination %}
                <a href="javascript:;"
                    class="flex flex-col items-center bg-white border border-gray-200 rounded-lg shadow-sm md:flex-row md:max-w-xl md:max-h-60 hover:bg-gray-100"
                    data-modal-target="agent-modal"
                    data-modal-toggle="agent-modal"
                    data-agent='{
                        "id": "{{ agent.id|e('js') }}",
                        "nom": "{{ agent.nom|e('js') }}",
                        "prenoms": "{{ agent.prenoms|e('js') }}",
                        "fonction": "{{ agent.fonction|e('js') }}",
                        "email": "{{ agent.email|e('js') }}",
                        "photo": "{{ asset(agent.photo.filename|default('assets/media/svg/avatars/blank.svg')) }}"
                    }'>
                    <img class="object-cover w-full rounded-t-lg h-28 md:size-full md:max-w-28 md:rounded-none md:rounded-s-lg" src="{{asset(agent.photo.filename|default('assets/media/svg/avatars/blank.svg'))}}" alt="">
                    <div class="flex flex-col justify-between p-4 leading-normal w-full">
                        <h5 class="text-xl font-bold tracking-tight text-[#2b62aa] uppercase">{{ (agent.nom ~' '~ agent.prenoms)|slice(0, 18) }}{{ (agent.nom ~' '~ agent.prenoms)|length >= 18 ? '...' }}</h5>
                        <span class="text-sm text-gray-500">{{agent.fonction}}</span>
                        <ul class="my-3 font-normal text-gray-700">
                            <li class="flex gap-3 text-sm">
                                <svg class="w-4 h-4 text-[#2b62aa]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 0 0-2 2v4m5-6h8M8 7V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m0 0h3a2 2 0 0 1 2 2v4m0 0v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-6m18 0s-4 2-9 2-9-2-9-2m9-2h.01"/></svg>
                                {{agent.service ? agent.service.parent.libelle}}
                            </li>
                            <li class="flex gap-3 text-sm">
                                <svg class="w-4 h-4 text-[#2b62aa]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="m3.5 5.5 7.893 6.036a1 1 0 0 0 1.214 0L20.5 5.5M4 19h16a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1Z"/></svg>
                                {{agent.email}}
                            </li>
                            <li class="flex gap-3 text-sm">
                                <svg class="w-4 h-4 text-[#2b62aa]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.427 14.768 17.2 13.542a1.733 1.733 0 0 0-2.45 0l-.613.613a1.732 1.732 0 0 1-2.45 0l-1.838-1.84a1.735 1.735 0 0 1 0-2.452l.612-.613a1.735 1.735 0 0 0 0-2.452L9.237 5.572a1.6 1.6 0 0 0-2.45 0c-3.223 3.2-1.702 6.896 1.519 10.117 3.22 3.221 6.914 4.745 10.12 1.535a1.601 1.601 0 0 0 0-2.456Z"/></svg>
                                (+225){{agent.telephone}}
                            </li>
                            <li class="flex gap-3 text-sm">
                                <svg class="w-4 h-4 text-[#2b62aa]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.283 8h-4.285m3.85 3h-3.85m4.061-6H11v11h8.27l1.715-9.847A.983.983 0 0 0 20.059 5ZM6.581 13.23h-.838A13.752 13.752 0 0 1 5.622 11c-.02-.745.02-1.49.12-2.23h1.04c.252 0 .496-.088.683-.245a.927.927 0 0 0 .329-.61l.2-1.872a.888.888 0 0 0-.045-.39.936.936 0 0 0-.212-.34 1.017 1.017 0 0 0-.341-.231A1.08 1.08 0 0 0 6.983 5h-2.06a1.27 1.27 0 0 0-.699.204 1.135 1.135 0 0 0-.442.543A15.066 15.066 0 0 0 3.007 11a15.656 15.656 0 0 0 .795 5.229c.165.462 1.342.771 1.864.771h1.116c.142 0 .283-.028.413-.082.13-.053.246-.132.341-.23a.936.936 0 0 0 .212-.34.889.889 0 0 0 .046-.391l-.201-1.873a.927.927 0 0 0-.33-.609 1.059 1.059 0 0 0-.682-.245ZM10 18v1h10v-1a2 2 0 0 0-2-2h-6a2 2 0 0 0-2 2Z"/></svg>
                                {{agent.fixe}}
                            </li>
                            <li class="flex gap-3 text-sm">
                                <svg class="w-4 h-4 text-[#2b62aa]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m4 12 8-8 8 8M6 10.5V19a1 1 0 0 0 1 1h3v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h3a1 1 0 0 0 1-1v-8.5"/></svg>
                                {{agent.bureau.libelle ?? null}}
                            </li>
                        </ul>
                    </div>
                </a>
                {% else %}
                <div class="col-span-full text-center text-gray-500">Aucun agent trouvé</div>
            {% endfor %}
            </div>

            {# --- PAGINATION --- #}
            {% if pagination.pageCount > 1 %}
            <nav aria-label="Page navigation example" class="flex justify-center mt-8">
                <ul class="inline-flex -space-x-px text-base h-10">
                    {% if pagination.currentPage > 1 %}
                    <li>
                        <a href="{{ path('annuaire', { page: pagination.currentPage - 1, research: term }) }}"
                        class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-e-0 border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700">
                            Précédent
                        </a>
                    </li>
                    {% endif %}

                    {% for page in 1..pagination.pageCount %}
                        <li class="{{ page > 2 and page < pagination.pageCount - 1 ? 'hidden sm:block' : '' }}">
                            <a href="{{ path('annuaire', { page: page, research: term }) }}"
                            class="flex items-center justify-center px-4 h-10 leading-tight {{ page == pagination.currentPage ? 'text-blue-600 border border-gray-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700' : 'text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700' }}">
                                {{ page }}
                            </a>
                        </li>
                    {% endfor %}

                    {% if pagination.currentPage < pagination.pageCount %}
                    <li>
                        <a href="{{ path('annuaire', { page: pagination.currentPage + 1, research: term }) }}"
                        class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700">
                            Suivant
                        </a>
                    </li>
                    {% endif %}
                </ul>
            </nav>
            {% endif %}
        </div>